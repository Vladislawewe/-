.ORIG x3000                 ; Устанавливает начальный адрес программы в памяти на 0x3000

; Вывод приглашения к вводу
LEA R0, PROMPT             ; Загрузить адрес строки приглашения в регистр R0
PUTS                       ; Вывести приглашение на экран

; Подготовка к считыванию чисел
LEA R1, NUMBERS            ; Загрузить адрес массива для чисел в R1
LEA R4, CONSTATEXP         ; Загрузить адрес массива для сохранения символов в R4
LD R2, COUNT               ; Загрузить счётчик ввода в R2

; Цикл ввода чисел
READ
    GETC                   ; Считать символ с клавиатуры
    OUT                    ; Вывести введенный символ
    STR R0, R4, #0         ; Сохранить символ в массиве CONSTATEXP
    ADD R4, R4, #1         ; Увеличить указатель массива
    LD R3, NEG48           ; Загрузить модификатор для преобразования символа в число
    ADD R0, R0, R3         ; Преобразовать символ в число
    STR R0, R1, #0         ; Сохранить число в массиве NUMBERS
    ADD R1, R1, #1         ; Увеличить указатель массива
    ADD R2, R2, #-1        ; Уменьшить счетчик ввода
    BRp READ               ; Повторять до окончания ввода

; Начало сортировки массива чисел
LEA R1, NUMBERS            ; Загрузить адрес массива в R1
LD R2, COUNT               ; Загрузить счетчик
ADD R2, R2, #-1            ; Уменьшить счетчик на 1

; Цикл сортировки (метод пузырька)
SORTLOOP
    ; [Логика сортировки]

; Вывод отсортированных чисел
LD R0, NEWLINE             ; Загрузить символ новой строки
OUT                        ; Вывести новую строку

LEA R1, ORIGINAL           ; Загрузить адрес массива оригинальных символов
LD R2, COUNT               ; Загрузить счетчик

; Цикл вывода оригинальных символов
OUTCONSTATEXP
    ; [Логика вывода]

; Вывод отсортированных чисел
LEA R1, NUMBERS            ; Загрузить адрес массива чисел
LD R2, COUNT               ; Загрузить счетчик

; Цикл вывода отсортированных чисел
OUTNUMBERS
    ; [Логика вывода]

HALT                       ; Остановка программы

; Объявление строк, массивов и констант
PROMPT .STRINGZ "Введите 5 чисел: "
NUMBERS .BLKW 5           ; Выделение памяти для 5 чисел
CONSTATEXP .BLKW 5        ; Выделение памяти для 5 символов
COUNT .FILL #5            ; Количество чисел для ввода
NEG48 .FILL #-48           ; Модификатор для преобразования символа в число
POS48 .FILL #48            ; Модификатор для преобразования числа в символ
NEWLINE .FILL x000A        ; Символ новой строки
.END
